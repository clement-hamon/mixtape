<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="../mixtape.js"></script>
    <title>Example 1 - mixtape</title>
    <style>
        html,
        body {
            height: 100%;
            box-sizing: border-box;
            border-collapse: collapse;
            margin: 0;
            padding: 0;
        }

        #tape {
            width: 30vw;
            font-size: 20px;
            height: 100%;
            overflow: scroll;
            display: inline-block;
            float: left;
        }

        #target {
            width: 69vw;
            height: 100%;
            background-color: floralwhite;
            display: inline-block;
        }

        .counter {
            margin: 100px auto 0;
            text-align: center;
            font-size: 40px;
            color: white;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }

        .songs {
            min-height: 50vw;
            width: 100%;
            border: 2px solid black;
        }
    </style>
</head>

<body>
    <div id="tape">
        <div class="songs" data-title="Natural Mystic"
            data-img="https://images.unsplash.com/photo-1465405135012-6c24c343b9a8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1027&q=80">
            <p>
                There's a natural mystic blowing through the air;
                <br />If you listen carefully now you will hear.
                <br />This could be the first trumpet, might as well be the last:
                <br />Many more will have to suffer,
                <br />Many more will have to die - don't ask me why.
                <br />
                <br />Things are not the way they used to be,
                <br />I won't tell no lie;
                <br />One and all have to face reality now.
                <br />'Though I've tried to find the answer to all the questions they ask.
                <br />'Though I know it's impossible to go livin' through the past -
                <br />Don't tell no lie.
                <br />
                <br />There's a natural mystic blowing through the air -
                <br />Can't keep them down -
                <br />If you listen carefully now you will hear.
                <br />
                <br />There's a natural mystic blowing through the air.
                <br />
                <br />This could be the first trumpet, might as well be the last:
                <br />Many more will have to suffer,
                <br />Many more will have to die - don't ask me why.
                <br />
                <br />There's a natural mystic blowing through the air -
                <br />I won't tell no lie;
                <br />If you listen carefully now you will hear:
                <br />There's a natural mystic blowing through the air.
                <br />Such a natural mystic blowing through the air;
                <br />There's a natural mystic blowing through the air;
                <br />Such a natural mystic blowing through the air;
                <br />Such a natural mystic blowing through the air;
                <br />Such a natural mystic blowing through the air.
            </p>
        </div>
        <div class="songs" data-title="Smells Like Teen Spirit"
            data-img="https://images.unsplash.com/photo-1545830571-6d7665a05cb6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80">
            <p>
                Load up on guns, bring your friends
                <br>It's fun to lose and to pretend
                <br>She's over bored and self assured
                <br>Oh no, I know a dirty word
                <br>
                <br>Hello, hello, hello, how low? [x3]
                <br>Hello, hello, hello!
                <br>
                <br>With the lights out, it's less dangerous
                <br>Here we are now, entertain us
                <br>I feel stupid and contagious
                <br>Here we are now, entertain us
                <br>A mulatto
                <br>An albino
                <br>A mosquito
                <br>My libido
                <br>Yeah, hey, yay
                <br>
                <br>I'm worse at what I do best
                <br>And for this gift I feel blessed
                <br>Our little group has always been
                <br>And always will until the end
                <br>
                <br>Hello, hello, hello, how low? [x3]
                <br>Hello, hello, hello!
                <br>
                <br>With the lights out, it's less dangerous
                <br>Here we are now, entertain us
                <br>I feel stupid and contagious
                <br>Here we are now, entertain us
                <br>A mulatto
                <br>An albino
                <br>A mosquito
                <br>My libido
                <br>Yeah, hey, yay
                <br>
                <br>And I forget just why I taste
                <br>Oh yeah, I guess it makes me smile
                <br>I found it hard, it's hard to find
                <br>Oh well, whatever, never mind
                <br>
                <br>Hello, hello, hello, how low? [x3]
                <br>Hello, hello, hello!
                <br>
                <br>With the lights out, it's less dangerous
                <br>Here we are now, entertain us
                <br>I feel stupid and contagious
                <br>Here we are now, entertain us
                <br>A mulatto
                <br>An albino
                <br>A mosquito
                <br>My libido
                <br>
                <br>A denial! [x9]
            </p>
        </div>
        <div class="songs" data-title="A Kind Of Magic"
            data-img="https://images.unsplash.com/photo-1529933037705-0d537317ae7b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=671&q=80">
            It's a kind of magic.
            <br>It's a kind of magic.
            <br>A kind of magic.
            <br>
            <br>One dream, one soul,
            <br>One prize, one goal.
            <br>One golden glance of what should be.
            <br>
            <br>It's a kind of magic.
            <br>
            <br>One shaft of light that shows the way.
            <br>No mortal man can win this day.
            <br>
            <br>It's a kind of magic.
            <br>
            <br>The bell that rings inside your mind
            <br>Is challenging the doors of time.
            <br>
            <br>It's a kind of magic.
            <br>
            <br>The waiting seems eternity.
            <br>The day will dawn of sanity.
            <br>
            <br>Is this a kind of magic?
            <br>(It's a kind of magic.)
            <br>There can be only one.
            <br>This rage that lasts a thousand years
            <br>Will soon be done.
            <br>
            <br>This flame that burns inside of me.
            <br>I'm hearing secret harmonies.
            <br>
            <br>It's a kind of magic.
            <br>
            <br>The bell that rings inside your mind
            <br>Is challenging the doors of time.
            <br>
            <br>It's a kind of magic.
            <br>It's a kind of magic.
            <br>
            <br>This rage that lasts a thousand years
            <br>Will soon be—
            <br>Will soon be—
            <br>Will soon be done.
            <br>
            <br>This is (this is) a kind (a kind) of magic.
            <br>There can be only one.
            <br>This rage that lasts a thousand years
            <br>Will soon be done. (Done.)
            <br>
            <br>Magic.
            <br>It's a kind of magic.
            <br>It's a kind of magic, magic, magic, magic, magic.
            <br>
            <br>It's magic.
            <br>
            <br>It's a kind of magic.
        </div>
    </div>
    <div id="target">
    </div>
    <script>
        const target = document.getElementById('target');
        const counter = document.createElement('h2');
        counter.className = 'counter';
        counter.innerHTML = '0%';
        target.appendChild(counter);

        let mixTape = new MixTape(
            {
                tape: document.getElementById("tape"),
                songs: document.getElementsByClassName("songs"),
                nextCallBack: (dataset, dir) => {
                    console.log(dataset, dir);
                    target.style.backgroundImage = `url(${dataset.img})`;
                },
                playCallBack: (totalPercent, songPercent) => {
                    console.log(totalPercent, songPercent);
                    counter.innerHTML = Math.floor(songPercent * 100) + '%';
                },
                options: {
                    reader: {
                        color: 'red'
                    }
                }
            });
    </script>
</body>

</html>